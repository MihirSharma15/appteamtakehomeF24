
# For transperency purposes, the following template was generated by chatGPT, but was verified by Mihir Sharma.

# Workout Tracker API

This is a FastAPI application that allows users to create, search, and calculate totals for workout records. The API also includes data validation and error handling to ensure that inputs are valid.

## Endpoints

### 1. `GET /`

#### Description:
The root endpoint returns a welcome message.

#### Response:
```json
{
  "message": "Welcome to the App Team Takehome! Made with <3 by Mihir Sharma."
}
```

### 2. `POST /create`

#### Description:
Creates a new workout entry.

#### Request Body:
The body must contain the following fields:

- `date`: The date of the workout (in `DD-MM-YY` format) **(required)**
- `start_time`: The start time of the workout (in `HH-MM` format) **(required)**
- `duration`: The duration of the workout in hours **(required)**
- `workout_type`: Type of workout (e.g., "cardio", "strength") **(optional)**
- `calories_burned`: Total calories burned during the workout **(optional)**
- `notes`: Additional notes about the workout **(optional)**

Example Request Body:
```json
{
  "date": "05-09-24",
  "start_time": "09-30",
  "duration": 1.5,
  "workout_type": "cardio",
  "calories_burned": 500,
  "notes": "Morning run in the park"
}
```

#### Response:
- **201 Created**:
    - **Success Message**:
    ```json
    {
      "status": "success",
      "message": "Created successfully!",
      "workout": {
        "id": "generated-uuid",
        "date": "05-09-24",
        "start_time": "09-30",
        "duration": 1.5,
        "workout_type": "cardio",
        "calories_burned": 500,
        "notes": "Morning run in the park"
      }
    }
    ```

#### Errors:
- **400 Bad Request**:
    - Invalid date format:
    ```json
    {
      "detail": "Bad Request: Date is in the wrong format. Should be in DD-MM-YY"
    }
    ```
    - Invalid time format:
    ```json
    {
      "detail": "Bad request: Time must be in the format HH-MM"
    }
    ```
    - Negative or zero duration:
    ```json
    {
      "detail": "duration cannot be negative"
    }
    ```
    - Calories burned is less than 0:
    ```json
    {
      "detail": "Calories burned cannot be less than 0"
    }
    ```

### 3. `GET /search`

#### Description:
Search for workout entries based on optional filtering criteria.

#### Query Parameters:
- `date` (optional): The date of the workout in `DD-MM-YY` format.
- `workout_type` (optional): The type of workout.
- `note_keyword` (optional): A keyword to search in workout notes.

Example Request:
```
GET /search?date=05-09-24&workout_type=cardio&note_keyword=run
```

#### Response:
- **200 OK**:
    ```json
    [
      {
        "id": "generated-uuid",
        "date": "05-09-24",
        "start_time": "09-30",
        "duration": 1.5,
        "workout_type": "cardio",
        "calories_burned": 500,
        "notes": "Morning run in the park"
      }
    ]
    ```

#### Errors:
- **400 Bad Request**:
    - Invalid date format:
    ```json
    {
      "detail": "date is not in valid format"
    }
    ```

### 4. `GET /total/{category}`

#### Description:
Calculates the total value of a numeric category (e.g., `calories_burned`, `duration`) across all workouts.

#### Path Parameter:
- `category`: The category to sum (e.g., `calories_burned`, `duration`).

Example Request:
```
GET /total/calories_burned
```

#### Response:
- **200 OK**:
    ```json
    {
      "category": "calories_burned",
      "total": 1500
    }
    ```

#### Errors:
- **400 Bad Request**:
    - Invalid category:
    ```json
    {
      "detail": "calories is not a valid category"
    }
    ```
    - Non-numeric category:
    ```json
    {
      "detail": "Category 'workout_type' cannot be summed, must be numeric (int or float)"
    }
    ```
    - Empty workout database:
    ```json
    {
      "detail": "Workout DB is empty"
    }
    ```

## Error Handling

The API returns a standardized error response with appropriate HTTP status codes for various error cases, including:

- Invalid date or time formats
- Non-numeric values for summing
- Missing or invalid query parameters

Example error response:
```json
{
  "detail": "Bad Request: Date is in the wrong format. Should be in DD-MM-YY"
}
```

# Reasoning:

#### The Following information was not by ChatGPT and original thought by Mihir Sharma

##### FastAPI - 
Very little boilerplate code, I'm comfortable with Python (like cmon who isn't s/o comp 110), and FASTAPI > Flask/Django because it has very limited overhead and has speeds comperable to Go and other serverside languages
##### Pydantic Models - 
Very intutive and a lot of the type checking is done for me
##### UUID for workout ids - 
that way no two ids are identical. Also you will notice that the ids are not assignable by the frontend. it's a small change that matters so that people cannot screw up the database by purposelly posting two workouts with the same id.

##### Error handling - 
Status code inform the frontend about bad requests such as invalid dates. I think 
Status codes>>> since they are known by most people


Created with <3 by Mihir Sharma
